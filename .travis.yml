language: generic

jdk:
  - oraclejdk8

env:
  - NEO4J_VERSION="3.5.12"

sudo: true

branches:
  - dev_5_pairprog

services:
  - neo4j

before_install:
  - wget dist.neo4j.org/neo4j-community-$NEO4J_VERSION-unix.tar.gz
  - tar -xzf neo4j-community-$NEO4J_VERSION-unix.tar.gz
  - neo4j-community-$NEO4J_VERSION/bin/neo4j start
  - sleep 10
  - curl -vX POST http://neo4j:neo4j@localhost:7474/user/neo4j/password -d"password=password"

install:
  - cd VueJS
  - npm install
  - cd ../Backend
  - yarn install

script:
  - cd ../VueJS
  - npm run lint
  - cd ../Backend
  - yarn run db:reset

after_success:
  - cd ../VueJS
  - npm run build